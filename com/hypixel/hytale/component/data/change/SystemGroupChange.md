---
description: Architectural reference for SystemGroupChange
---

# SystemGroupChange

**Package:** com.hypixel.hytale.component.data.change
**Type:** Transient

## Definition
```java
// Signature
public class SystemGroupChange<ECS_TYPE> implements DataChange {
```

## Architecture & Concepts
The **SystemGroupChange** class is an immutable data record that represents a structural modification to the set of active systems within the Entity-Component-System (ECS) engine. It functions as an event or a command object, encapsulating a single, atomic change: the addition or removal of a **SystemGroup**.

This class is a fundamental component of the engine's dynamic architecture. It allows the runtime to enable or disable entire blocks of game logic and behavior on the fly. For example, when a player enters a new zone or starts a minigame, the engine can dispatch **SystemGroupChange** events to load the systems specific to that context and unload the previous ones.

As an implementation of the **DataChange** interface, it is designed to be processed by a generic change-handling mechanism, which consumes a stream of such objects to apply updates to the core game state in a controlled and predictable manner.

### Lifecycle & Ownership
- **Creation:** Instantiated exclusively by high-level engine controllers, such as a **SystemManager** or **WorldLoader**, in response to a significant game state transition. It is never created by client-side game logic.
- **Scope:** Ephemeral. A **SystemGroupChange** object is extremely short-lived, typically existing only for the duration of the single engine tick in which it is created and processed.
- **Destruction:** The object has no managed destruction logic. It becomes eligible for garbage collection immediately after its contents have been consumed by the change processing system. Holding a reference to a **SystemGroupChange** object beyond the processing phase is a design error.

## Internal State & Concurrency
- **State:** Strictly immutable. All fields are declared final and are assigned only once during construction. This object acts as a snapshot of a requested change, ensuring that the intent is preserved without risk of modification.
- **Thread Safety:** Inherently thread-safe. Due to its immutability, a **SystemGroupChange** instance can be safely shared and read across multiple threads without any external locking or synchronization. This is critical in multi-threaded engine architectures where changes might be generated on a logic thread and consumed on the main engine thread.

## API Surface
The public contract is minimal, providing read-only access to the event data.

| Symbol | Type | Complexity | Description |
| :--- | :--- | :--- | :--- |
| getType() | ChangeType | O(1) | Returns the type of change (e.g., ADD, REMOVE). |
| getSystemGroup() | SystemGroup | O(1) | Returns the target **SystemGroup** this change applies to. |

## Integration Patterns

### Standard Usage
This class is not intended for direct use by most developers. It is consumed by core engine systems that process queues or lists of **DataChange** objects. The typical pattern involves type-checking and casting to handle the specific change.

```java
// A core engine loop processing a collection of changes
for (DataChange change : changeSet) {
    if (change instanceof SystemGroupChange) {
        SystemGroupChange<?> sysChange = (SystemGroupChange<?>) change;

        if (sysChange.getType() == ChangeType.ADD) {
            ecsEngine.registerSystemGroup(sysChange.getSystemGroup());
        } else {
            ecsEngine.unregisterSystemGroup(sysChange.getSystemGroup());
        }
    }
    // ... handle other DataChange types
}
```

### Anti-Patterns (Do NOT do this)
- **Direct Instantiation:** Never create an instance of **SystemGroupChange** in gameplay code using `new`. These events must be generated by the authoritative engine manager to ensure state consistency.
- **State Caching:** Do not store a reference to a **SystemGroupChange** object. It represents a point-in-time event. Caching it is a memory leak and can lead to applying stale or incorrect state changes.
- **Modification via Reflection:** Attempting to modify the internal state of this object is a severe violation of its design contract and will lead to unpredictable engine behavior.

## Data Pipeline
The **SystemGroupChange** object is a data payload that flows through a well-defined state management pipeline. Its role is to carry the intent of a change from the point of decision to the point of execution.

> Flow:
> Game State Transition -> System Manager -> **SystemGroupChange** -> Change Processing Queue -> ECS Runtime Executor

