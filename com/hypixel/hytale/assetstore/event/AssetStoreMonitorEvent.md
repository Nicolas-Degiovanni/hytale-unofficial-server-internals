---
description: Architectural reference for AssetStoreMonitorEvent
---

# AssetStoreMonitorEvent

**Package:** com.hypixel.hytale.assetstore.event
**Type:** Transient Data Transfer Object

## Definition
```java
// Signature
public class AssetStoreMonitorEvent extends AssetMonitorEvent<Void> {
```

## Architecture & Concepts
The AssetStoreMonitorEvent is a message object that signals a change in the underlying file system for a specific AssetStore. It is a core component of the engine's live-reloading system, enabling developers to see asset changes in real-time without restarting the client or server.

This event acts as a precise notification, distinct from a generic file system event. It directly links a set of file path changes (creations, modifications, deletions) to the exact AssetStore instance responsible for managing them. This allows listening systems, such as the AssetManager, to perform targeted, efficient reloads instead of broad, expensive scans.

It inherits from the generic AssetMonitorEvent, specializing it for store-level notifications. The use of Void as the generic type parameter indicates that this event's primary purpose is notification, not to carry a processed result.

### Lifecycle & Ownership
-   **Creation:** Instantiated exclusively by the engine's internal file system monitoring service. This service watches directories associated with registered AssetStore instances and creates an AssetStoreMonitorEvent upon detecting a change.
-   **Scope:** Extremely short-lived. An instance exists only for the duration of its dispatch on an event bus. It is a fire-and-forget message.
-   **Destruction:** The object has no persistent owner. Once all subscribers to the event have processed it, it becomes unreachable and is reclaimed by the garbage collector.

## Internal State & Concurrency
-   **State:** **Immutable**. The internal state, including the reference to the AssetStore and the lists of changed paths, is established at construction and is not intended to be modified. All primary fields are final.
-   **Thread Safety:** **Thread-safe**. As an immutable data carrier, this event can be safely created on a background file-watching thread and consumed on the main engine thread or a dedicated asset-processing thread without requiring any synchronization or locks.

    **WARNING:** The lists of paths passed to the constructor are not defensively copied. Modifying these lists externally after event creation is a severe anti-pattern that violates the object's implicit contract of immutability.

## API Surface
The public contract is minimal, focused on retrieving the event's payload. Methods inherited from the parent class for accessing path lists are not duplicated here.

| Symbol | Type | Complexity | Description |
| :--- | :--- | :--- | :--- |
| getAssetStore() | AssetStore<?, ?, ?> | O(1) | Returns the specific AssetStore instance whose managed assets have changed on disk. |

## Integration Patterns

### Standard Usage
This class is not intended for direct instantiation or use by game logic developers. Its primary consumers are engine-level systems that subscribe to it via an event bus to react to asset changes.

```java
// Example of a listener within an asset management service
@Subscribe
public void onAssetStoreChanged(AssetStoreMonitorEvent event) {
    AssetStore<?, ?, ?> storeToReload = event.getAssetStore();
    List<Path> modifiedFiles = event.getCreatedOrModified();

    // Log the event and trigger a targeted reload
    log.info("Hot-reloading AssetStore: " + storeToReload.getId());
    assetReloader.scheduleReload(storeToReload, modifiedFiles);
}
```

### Anti-Patterns (Do NOT do this)
-   **Direct Instantiation:** Never create an instance using `new AssetStoreMonitorEvent()`. Doing so can desynchronize the engine's asset state from the actual file system, as it bypasses the authoritative file-watching service. These events must only be generated by the engine core.
-   **State Caching:** Do not hold a long-term reference to an AssetStoreMonitorEvent. It represents a point-in-time snapshot and should be processed and discarded within the scope of the event handler.

## Data Pipeline
The AssetStoreMonitorEvent is a critical link in the asset hot-reloading data pipeline, translating low-level file system I/O notifications into high-level, actionable engine events.

> Flow:
> OS File System Notification -> Engine File Monitor Service -> **AssetStoreMonitorEvent** (Creation) -> Engine Event Bus (Dispatch) -> AssetManager (Consumption) -> Asset Cache Invalidation & Reload

