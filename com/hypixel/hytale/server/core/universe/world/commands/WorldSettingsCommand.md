---
description: Architectural reference for WorldSettingsCommand
---

# WorldSettingsCommand

**Package:** com.hypixel.hytale.server.core.universe.world.commands
**Type:** Transient

## Definition
```java
// Signature
public class WorldSettingsCommand extends AbstractCommandCollection {
```

## Architecture & Concepts
The WorldSettingsCommand class is a command aggregator responsible for exposing the server's world configuration parameters through the command line interface. It does not implement any core game logic itself; instead, it serves as a declarative factory for a large tree of related sub-commands that manipulate the state of a `WorldConfig` object.

Architecturally, it acts as a translation layer between the text-based Command System and the strongly-typed `WorldConfig` data model. Its primary design feature is the use of the `generateSubCommand` helper method within its constructor. This pattern allows for the rapid, boilerplate-free creation of dozens of getter/setter/reset commands for various world properties like `pvp`, `ticking`, and `gamemode`.

For more complex data types, such as the `Box2D` used for world regions, it employs specialized inner classes like `WorldSettingsBox2DCommand`. This maintains a clean separation of concerns, isolating the parsing and handling of complex arguments from the main factory logic. The entire command structure is built and registered with the server's command dispatcher upon instantiation.

### Lifecycle & Ownership
- **Creation:** An instance of WorldSettingsCommand is created by the server's primary command registration service during the server bootstrap sequence. It is part of a larger collection of commands that are initialized once at startup.
- **Scope:** The object is stateless and designed to persist for the entire server session. It is registered with the command dispatcher and remains resident in memory to handle incoming command executions.
- **Destruction:** The instance is de-referenced and becomes eligible for garbage collection only when the server is shutting down and the central command registry is cleared.

## Internal State & Concurrency
- **State:** The WorldSettingsCommand instance is effectively immutable after its constructor completes. It holds a single private field, `defaultWorldConfig`, which is a clean `WorldConfig` instance used exclusively as a source for default values when a `reset` sub-command is executed. The commands generated by this class operate on the mutable state of the *target World* object passed into their `execute` methods, not on the state of WorldSettingsCommand itself.
- **Thread Safety:** This class is not thread-safe and is not designed to be. The server's command execution framework guarantees that all command logic is executed synchronously on the main server thread corresponding to the target world. Any attempt to invoke command logic from an asynchronous task or a different thread will lead to race conditions and severe world state corruption.

## API Surface
The programmatic API surface of this class is minimal. Its true public contract is the command-line interface it registers with the server. Direct interaction with the class instance from other game systems is an anti-pattern.

| Symbol | Type | Complexity | Description |
| :--- | :--- | :--- | :--- |
| settings [sub-command] | Command | O(1) | Root command for a specific setting. When run without arguments, it displays the current value. |
| settings [sub-command] set [value] | Command | O(1) | Sets a specific world configuration value. Throws a parsing error for invalid value types. |
| settings [sub-command] reset | Command | O(1) | Resets a specific world configuration value to its factory default. |

## Integration Patterns

### Standard Usage
Interaction with this system is performed exclusively through the server console or by an in-game entity with sufficient permissions. There is no standard programmatic usage.

```java
// Example commands entered in the server console

// Check the current PvP setting for the world
/world settings pvp

// Disable PvP in the world
/world settings pvp set false

// Reset the default gamemode to its original value
/world settings gamemode reset
```

### Anti-Patterns (Do NOT do this)
- **Direct Instantiation:** Never create an instance using `new WorldSettingsCommand()`. It will not be registered with the command system and will serve no purpose. The server framework handles its lifecycle.
- **Asynchronous Execution:** Do not attempt to execute command logic from a separate thread. All interactions with a `World` and its `WorldConfig` must be dispatched to the world's primary update thread.
- **State Reliance:** Do not build logic that depends on the internal state of this class. It is a stateless command factory, and its implementation details are subject to change.

## Data Pipeline
The flow of data and control for a typical setting modification is linear and synchronous, originating from user input and terminating with a change to the world's configuration state.

> Flow:
> User Command String (`/ws pvp set false`) -> Command Dispatcher -> **WorldSettingsCommand** Sub-command Resolution -> `WorldSettingsSubCommand.execute()` -> `World.getWorldConfig().setPvpEnabled(false)` -> `WorldConfig.markChanged()` -> Confirmation Message -> User
---

