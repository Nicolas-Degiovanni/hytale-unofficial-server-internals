---
description: Architectural reference for BrushAxisArg
---

# BrushAxisArg

**Package:** com.hypixel.hytale.server.core.asset.type.buildertool.config.args
**Type:** Transient

## Definition
```java
// Signature
public class BrushAxisArg extends ToolArg<BrushAxis> {
```

## Architecture & Concepts
The BrushAxisArg class is a specialized Data Transfer Object (DTO) that represents a single, strongly-typed configuration argument for the server's Builder Tool system. Its primary role is to encapsulate a BrushAxis enum (e.g., WORLD, LOCAL, VIEW) and provide the necessary logic for serialization, deserialization, and network transport.

This class is a concrete implementation of the abstract ToolArg, fitting into a larger polymorphic system where various tool arguments can be handled generically. Its architecture is deeply integrated with Hytale's `Codec` framework, which is responsible for converting this object to and from persistent data formats. The static CODEC field defines the precise rules for this conversion, making the class self-describing in terms of its data structure.

Functionally, BrushAxisArg acts as a bridge between a high-level tool configuration (defined in assets or modified by a user) and the low-level network packet structure required to communicate that configuration to the client or server.

## Lifecycle & Ownership
- **Creation:** Instances are primarily created in two ways:
    1.  By the Hytale `Codec` framework when deserializing a builder tool's configuration from an asset file.
    2.  Programmatically by game logic when a new tool configuration is constructed or modified at runtime.
- **Scope:** The object is short-lived and transient. Its lifetime is bound to the lifetime of its parent tool configuration object. It does not manage any persistent resources and is intended to be a simple data holder.
- **Destruction:** Instances are managed by the Java Garbage Collector and are reclaimed when no longer referenced. No explicit cleanup is required.

## Internal State & Concurrency
- **State:** Mutable. The core state is the `value` field (a BrushAxis enum), which is inherited from the parent ToolArg class. This value can be modified after instantiation.
- **Thread Safety:** **This class is not thread-safe.** It is a plain data object with no internal synchronization mechanisms. It is designed to be created, modified, and read from a single thread, typically the main server thread.

    **Warning:** Do not share instances of BrushAxisArg across multiple threads without implementing external locking. Concurrent modification will lead to race conditions and undefined behavior.

## API Surface
The public API is focused on data conversion and integration with the network protocol.

| Symbol | Type | Complexity | Description |
| :--- | :--- | :--- | :--- |
| toBrushAxisArgPacket() | BuilderToolBrushAxisArg | O(1) | Creates a new, specialized network packet containing the current axis value. |
| setupPacket(BuilderToolArg packet) | void | O(1) | Configures a generic BuilderToolArg packet, setting its type and attaching the specific payload generated by toBrushAxisArgPacket. This is the primary method for network serialization. |
| fromString(String str) | BrushAxis | O(1) | Parses a string into a BrushAxis enum. Throws ToolArgException on failure. |

## Integration Patterns

### Standard Usage
The most common pattern is to create an instance to represent a specific configuration and then use it to populate a network packet for transmission.

```java
// Example: Programmatically configuring a tool argument
import com.hypixel.hytale.protocol.packets.buildertools.BrushAxis;
import com.hypixel.hytale.protocol.packets.buildertools.BuilderToolArg;

// 1. Create an instance with the desired axis
BrushAxisArg axisArg = new BrushAxisArg(BrushAxis.WORLD);

// 2. Create a generic network packet container
BuilderToolArg networkPacket = new BuilderToolArg();

// 3. Use the instance to populate the generic packet
// This sets the packet type and attaches the specific data payload.
axisArg.setupPacket(networkPacket);

// 4. The networkPacket is now ready to be sent over the network.
// networkLayer.send(networkPacket);
```

### Anti-Patterns (Do NOT do this)
- **Concurrent Modification:** Do not access or modify an instance from multiple threads simultaneously. The object's state is not protected against race conditions.
- **Incorrect Packet Setup:** Do not manually set the fields of a `BuilderToolArg` packet. Always use the `setupPacket` method to ensure the packet type and payload are set correctly and consistently.

## Data Pipeline
BrushAxisArg serves as a critical link in the data flow from configuration assets to the live game state.

> Flow:
> Builder Tool Asset File -> `CODEC` Deserializer -> **BrushAxisArg Instance** -> Builder Tool System -> `setupPacket()` -> `BuilderToolArg` Network Packet -> Network Layer -> Client/Server Logic

