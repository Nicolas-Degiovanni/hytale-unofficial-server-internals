---
description: Architectural reference for ZoneDiscoveryConfig
---

# ZoneDiscoveryConfig

**Package:** com.hypixel.hytale.server.worldgen.zone
**Type:** Immutable Data Transfer Object (DTO)

## Definition
```java
// Signature
public record ZoneDiscoveryConfig(
   boolean display,
   String zone,
   @Nullable String soundEventId,
   @Nullable String icon,
   boolean major,
   float duration,
   float fadeInDuration,
   float fadeOutDuration
) {
```

## Architecture & Concepts
ZoneDiscoveryConfig is a value object that encapsulates the presentation parameters for a "zone discovery" event in the game client. When a player enters a new geographical or logical zone, this configuration dictates how the discovery is announced, including the on-screen text, associated sound effects, and UI animation timings.

Architecturally, this class serves as a simple, immutable data carrier. Its primary role is to decouple the world generation and zone definition systems from the client-side UI and audio systems. By using a Java record, the engine guarantees that this configuration data is immutable, preventing accidental state modification and ensuring thread safety. It is a data-only structure with no business logic.

## Lifecycle & Ownership
- **Creation:** Instances are created by higher-level world generation services. This typically occurs when parsing zone definition files from game assets. The static factory method *of* is the primary entry point for construction, providing robust handling of potentially missing configuration values by substituting defaults.
- **Scope:** Transient and short-lived. An instance is created on-demand when a zone discovery event is triggered. It exists only long enough to be passed from the event source to the relevant client-side consumer systems (e.g., UIManager, AudioManager).
- **Destruction:** Managed entirely by the Java Garbage Collector. As a lightweight, stateless object, it requires no explicit cleanup.

## Internal State & Concurrency
- **State:** **Immutable**. As a Java record whose fields are primitives and other immutable types, an instance of ZoneDiscoveryConfig cannot be modified after its creation. This is a critical design feature for configuration data.
- **Thread Safety:** **Inherently thread-safe**. Due to its immutability, a ZoneDiscoveryConfig object can be safely passed between threads without any form of synchronization or locking. It can be read by any number of systems concurrently without risk of data corruption.

## API Surface
The public API consists of the component accessor methods implicitly generated by the record, a default static instance, and a factory method.

| Symbol | Type | Complexity | Description |
| :--- | :--- | :--- | :--- |
| DEFAULT | ZoneDiscoveryConfig | O(1) | A static, shared instance representing a default or fallback configuration. Used when a zone has no specific discovery parameters defined. |
| of(...) | ZoneDiscoveryConfig | O(1) | Constructs a new ZoneDiscoveryConfig. This factory method is the preferred construction mechanism as it provides default values for any null arguments, preventing NullPointerExceptions downstream. |

## Integration Patterns

### Standard Usage
The intended pattern is for a zone management system to create this object from loaded data and dispatch it to a client-side event bus or service responsible for player feedback.

```java
// In a ZoneManager or similar service
// Data is typically loaded from a zone definition file (e.g., JSON)

// Create the config using the safe factory method
ZoneDiscoveryConfig config = ZoneDiscoveryConfig.of(
    zoneData.getDisplay(),
    zoneData.getName(),
    zoneData.getSoundEvent(),
    zoneData.getIcon(),
    zoneData.isMajor(),
    zoneData.getDuration(),
    null, // Let the factory use the default fade-in
    null  // Let the factory use the default fade-out
);

// Dispatch to a client-side system
clientFeedbackService.showZoneDiscovery(player, config);
```

### Anti-Patterns (Do NOT do this)
- **Attempting Modification:** Do not attempt to modify an instance's state after creation, for example through reflection. This violates its design contract. If a different configuration is needed, create a new instance.
- **Null Propagation:** Avoid passing nulls directly to downstream systems. Always use the *of* factory method to sanitize inputs and ensure a valid, non-null object is created.

## Data Pipeline
ZoneDiscoveryConfig acts as a data payload that originates from asset definitions and terminates in the client's presentation layer.

> Flow:
> Zone Definition Asset (JSON) -> Asset Parser -> **ZoneDiscoveryConfig.of()** -> Game Event Bus -> UI & Audio Systems -> Rendered to Player Screen & Speakers

