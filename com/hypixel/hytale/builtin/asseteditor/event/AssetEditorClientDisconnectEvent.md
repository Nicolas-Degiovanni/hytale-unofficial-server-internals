---
description: Architectural reference for AssetEditorClientDisconnectEvent
---

# AssetEditorClientDisconnectEvent

**Package:** com.hypixel.hytale.builtin.asseteditor.event
**Type:** Transient

## Definition
```java
// Signature
public class AssetEditorClientDisconnectEvent extends EditorClientEvent<Void> {
```

## Architecture & Concepts
The AssetEditorClientDisconnectEvent is an immutable data-transfer object that signals the termination of a connection from an external Asset Editor client. It functions as a core component within the server's event-driven architecture, specifically for the Asset Editor subsystem.

This class decouples the low-level network layer, which detects the connection loss, from higher-level application services that must react to it. By encapsulating the disconnection details into a discrete event, the system avoids direct, brittle dependencies between network handlers and business logic. It is a concrete implementation of the Observer pattern, where the event itself is the message passed from the subject (the network session manager) to its observers (event subscribers).

The generic parameter of its parent, EditorClientEvent of type Void, signifies that this is a one-way notification event that does not expect a reply.

### Lifecycle & Ownership
-   **Creation:** Instantiated exclusively by the server's network session management layer, such as the PacketHandler, at the precise moment a client's connection is closed or lost. The reason for the disconnection is captured at this point.
-   **Scope:** Ephemeral. The object's lifetime is strictly limited to the duration of its propagation through the event bus. It is created, dispatched, consumed by all relevant listeners, and then immediately becomes a candidate for garbage collection.
-   **Destruction:** Managed by the JVM Garbage Collector. No system component should ever retain a long-term reference to an instance of this event, as doing so would constitute a memory leak.

## Internal State & Concurrency
-   **State:** Immutable. The internal state, specifically the disconnectReason, is a final field assigned only once during construction. This guarantees that the event represents a consistent and unchangeable snapshot of the disconnection context.
-   **Thread Safety:** Inherently thread-safe. Due to its immutability, an instance of AssetEditorClientDisconnectEvent can be safely passed between, published, and consumed by multiple threads without any need for external synchronization or locks.

## API Surface
The public contract is minimal, focusing entirely on data retrieval.

| Symbol | Type | Complexity | Description |
| :--- | :--- | :--- | :--- |
| getDisconnectReason() | PacketHandler.DisconnectReason | O(1) | Returns the enumerated reason for the client's disconnection. This is the primary data payload of the event. |

## Integration Patterns

### Standard Usage
This event is not intended to be created by application logic. Instead, services subscribe to it via a central event bus to react to disconnections.

```java
// Example of an event listener reacting to the disconnect
public class EditorSessionManager {

    @Subscribe
    public void onClientDisconnect(AssetEditorClientDisconnectEvent event) {
        EditorClient client = event.getEditorClient();
        PacketHandler.DisconnectReason reason = event.getDisconnectReason();

        log.info("Asset Editor client " + client.getId() + " disconnected. Reason: " + reason);
        
        // Trigger cleanup logic for the client's session
        this.cleanupClientResources(client);
    }
}
```

### Anti-Patterns (Do NOT do this)
-   **Manual Instantiation:** Do not create instances of this event manually to simulate a disconnection. It should only be generated by the authoritative network handling layer. Falsifying events can lead to severe state desynchronization.
-   **State Storage:** Do not store this event object in a long-lived collection or field. Extract the necessary data (the client and reason) and discard the event object itself.

## Data Pipeline
The flow of this event through the system is linear and unidirectional, originating from the network layer and propagating outwards to application logic.

> Flow:
> Network Connection Termination -> PacketHandler -> **AssetEditorClientDisconnectEvent** (Instantiation) -> System Event Bus -> Event Subscribers (e.g., EditorSessionManager, LoggingService)

